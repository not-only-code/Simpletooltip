/**
 * Simpletooltip is a JQuery plugin, thought to insert short tooltips to any element of your website more easily
 * v1.3.0
 *
 * 2014 Carlos Sanz Garcia
 * Distributed under GPL-3.0 license
 *
 * http://not-only-code.github.com/Simpletooltip
 */

!function(a){"use strict";function b(a){return null!==a&&void 0!==a&&"object"==typeof a&&void 0!==a.jquery?!0:!1}function c(b){f=a("body"),void 0!==b&&"object"==typeof b&&(e=a.extend(h,b),void 0!==e.themes&&"object"==typeof e.themes&&(g=a.extend(g,e.themes),delete e.themes),void 0!==g[e.theme]&&(e=a.extend(e,g[e.theme])))}var d,e,f=null,g={dark:{color:"#CCCCCC",background_color:"#222222",border_color:"#111111",border_width:4},gray:{color:"#434343",background_color:"#DCDCDC",border_color:"#BABABA",border_width:4},white:{color:"#6D7988",background_color:"#CCDEF2",border_color:"#FFFFFF",border_width:4},blue:{color:"#FFFFFF",background_color:"#0088BE",border_color:"#00669C",border_width:4}},h={position:"top",color:"#DDDDDD",background_color:"#222222",border_width:0,arrow_width:6,padding:{width:8,height:6},max_width:200,fade:!0};d=function(a){return this.$el=a||null,this.$tooltip=null,this.$arrow=null,this.margins={border:6,top:15,right:15,bottom:15,left:15},this.templates={tooltip:'<div class="simple-tooltip"></div>',arrow:'<span class="arrow">&nbsp;</span>'},b(this.$el)&&!this.$el.data().hasOwnProperty("simpletooltipInstanced")&&(this.title=this.$el.attr("title"),void 0!==this.title&&this.title.length)?(this.$el.attr("title",""),this.setTooltip(),this.initialize(),this.$el.data("simpletooltip-instanced","1"),this):void 0},d.prototype.setTooltip=function(){return b(this.$tooltip)&&b(this.$arrow)?void 0:(this.$tooltip=a(this.templates.tooltip),this.$tooltip.html(this.title),this.$tooltip.addClass(this.getAttribute("position")),this.$arrow=a(this.templates.arrow),this.$tooltip.append(this.$arrow),this.$tooltip)},d.prototype.initialize=function(){this.$el.on("mouseenter",{that:this},this.mouseOver),this.$el.on("mouseleave",{that:this},this.mouseOut),this.$el.attr("title","")},d.prototype.getAttribute=function(a){var b,c="simpletooltip-"+a.replace("_","-");return void 0!==this.$el.data(c)?this.$el.data(c):void 0!==(b=this.$el.data("simpletooltip-theme"))&&void 0!==g[b]&&void 0!==g[b][a]?g[b][a]:void 0!==e[a]?e[a]:!1},d.prototype.mouseOver=function(a){var b=a.data.that;return b.$tooltip.parent().length?a:(f.append(b.$tooltip),b.$tooltip.hide(),b.styleTooltip(),b.getAttribute("fade")?b.$tooltip.delay(180).fadeIn(200):b.$tooltip.show(),a)},d.prototype.mouseOut=function(a){var b=a.data.that;return b.$tooltip.parent().length?b.$tooltip.css("opacity")?(b.getAttribute("fade")?b.$tooltip.clearQueue().stop().fadeOut(100,function(){b.$tooltip.remove()}):b.$tooltip.remove(),a):(b.$tooltip.remove(),a):a},d.prototype.styleTooltip=function(){if(b(this.$el)&&b(this.$tooltip)){var c=this.$el.offset(),d=this.getAttribute("background_color"),f=this.getAttribute("border_color");b(this.$arrow)||(this.$arrow=this.$tooltip.find(" > .arrow"));var g=this.getAttribute("border_width");g=f&&"boolean"!=typeof g&&"none"!==g?Number(g):0;var h=g&&f?f:d,i=Math.round(3*e.arrow_width/4),j=-parseInt(2*e.arrow_width+g,10),k=-parseInt(2*i+g,10),l={maxWidth:this.getAttribute("max_width"),backgroundColor:d,color:this.getAttribute("color"),borderColor:f,borderWidth:g};switch(this.getAttribute("position")){case"top-right":c.top-=parseInt(this.$tooltip.outerHeight()+this.margins.bottom,10),c.left+=parseInt(this.$el.outerWidth()-this.margins.right-this.margins.border,10),this.$arrow.css({left:e.padding.width-g,borderWidth:i,bottom:k,borderTopColor:h,borderLeftColor:h});break;case"right-top":c.top-=parseInt(this.$tooltip.outerHeight()-this.margins.bottom,10),c.left+=parseInt(this.$el.outerWidth()+this.margins.right,10),this.$arrow.css({bottom:e.padding.height-g,borderWidth:i,left:k,borderRightColor:h,borderBottomColor:h});break;case"right":c.top+=parseInt((this.$el.outerHeight()-this.$tooltip.outerHeight())/2,10),c.left+=parseInt(this.$el.outerWidth()+this.margins.right,10),this.$arrow.css({left:j,borderRightColor:h,marginTop:-e.arrow_width});break;case"right-bottom":c.top+=parseInt(this.$el.outerHeight()-this.margins.bottom,10),c.left+=parseInt(this.$el.outerWidth()+this.margins.right,10),this.$arrow.css({top:e.padding.height-g,borderWidth:i,left:k,borderRightColor:h,borderTopColor:h});break;case"bottom-right":c.top+=parseInt(this.$el.outerHeight()+this.margins.bottom,10),c.left+=parseInt(this.$el.outerWidth()-this.margins.right-this.margins.border,10),this.$arrow.css({left:e.padding.width-g,borderWidth:i,top:k,borderBottomColor:h,borderLeftColor:h});break;case"bottom":c.top+=parseInt(this.$el.outerHeight()+this.margins.bottom,10),c.left+=parseInt((this.$el.outerWidth()-this.$tooltip.outerWidth())/2,10),this.$arrow.css({top:j,marginLeft:-e.arrow_width,borderBottomColor:h});break;case"bottom-left":c.top+=parseInt(this.$el.outerHeight()+this.margins.bottom,10),c.left-=parseInt(this.$tooltip.outerWidth()-this.margins.left-this.margins.border,10),this.$arrow.css({right:e.padding.width-g,borderWidth:i,top:k,borderBottomColor:h,borderRightColor:h});break;case"left-bottom":c.top+=parseInt(this.$el.outerHeight()-this.margins.bottom,10),c.left-=parseInt(this.$tooltip.outerWidth()+this.margins.left,10),this.$arrow.css({top:e.padding.height-g,borderWidth:i,right:k,borderLeftColor:h,borderTopColor:h});break;case"left":c.top+=parseInt((this.$el.outerHeight()-this.$tooltip.outerHeight())/2,10),c.left-=parseInt(this.$tooltip.outerWidth()+this.margins.left,10),this.$arrow.css({right:j,borderLeftColor:h,marginTop:-e.arrow_width});break;case"left-top":c.top-=parseInt(this.$tooltip.outerHeight()-this.margins.bottom,10),c.left-=parseInt(this.$tooltip.outerWidth()+this.margins.left,10),this.$arrow.css({bottom:e.padding.height-g,borderWidth:i,right:k,borderLeftColor:h,borderBottomColor:h});break;case"top-left":c.top-=parseInt(this.$tooltip.outerHeight()+this.margins.bottom,10),c.left-=parseInt(this.$tooltip.outerWidth()-this.margins.left,10),this.$arrow.css({right:e.padding.width-g,borderWidth:i,bottom:k,borderTopColor:h,borderRightColor:h});break;default:c.top-=parseInt(this.$tooltip.outerHeight()+this.margins.top,10),c.left+=parseInt((this.$el.outerWidth()-this.$tooltip.outerWidth())/2,10),this.$arrow.css({bottom:j,borderTopColor:h,marginLeft:-e.arrow_width})}this.$tooltip.css(a.extend(l,{top:c.top,left:c.left}))}},a.simpletooltip=function(b){c(b),a(".simpletooltip").each(function(){return a(this).data().hasOwnProperty("simpletooltipInstanced")||new d(a(this)),this})},a.fn.simpletooltip=function(b){return c(b),a(this).data().hasOwnProperty("simpletooltipInstanced")||new d(a(this)),this}}(jQuery);